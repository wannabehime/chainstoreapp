![ヘッダー画像](/docs/img/header/header.png)

<br />

## サービスのURL

https://chainstoresearch.com/chainstoresearch

<br />

## サービスへの想い

このサービスは、私の実体験から生まれました。<br />
チェーン店で注文する際、私はいつも最安のメニューを選んでいます。ただ、時には少し贅沢したいときもあります。<br />
そんな時、メインメニューをグレードアップさせるのか、もしくはサイドメニューを足すのか迷ってしまいます。そして、それによって変わる金額を計算していると、後ろの人を待たせてしまうので、結局いつもの最安メニューに落ち着いてしまいます。<br />
「もうこんな思いはしたくない、メニューをおすすめして決断の手間を減らしてほしい！」<br />
そんな私の心の叫びから、生まれたサービスです。

<br />

## アプリケーションのイメージ
![アプリケーションのイメージ](/docs/img/app-view/app-view_1.1.gif)

<br />

## 機能一覧
| トップ画面 |　ログイン画面 |
| ---- | ---- |
| ![Top画面](/docs/img/app-view/welcome_1.1.png) | ![ログイン画面](/docs/img/app-view/login_1.1.png) |
| 登録せずにサービスをお試しいただくためのトライアル機能を実装しました。 | ログインIDとパスワードでの認証機能を実装しました。 |

| 事業者選択画面 |　請求書作成画面 |
| ---- | ---- |
| ![事業者選択画面](/docs/img/app-view/select-business_1.1.png) | ![請求書作成画面](/docs/img/app-view/create-invoice_1.1.png) |
| 登録済みの複数の事業者の中から、請求書を作成したい事業者を選択する機能を実装しました。 | 請求書の作成機能・マスタデータの呼び出し機能・税率変更機能・税率別内訳の計算機能、合計金額の計算機能を実装しました。 |

| 請求書詳細画面 |　PDF出力画面 |
| ---- | ---- |
| ![請求書詳細画面](/docs/img/app-view/invoice-detail_1.1.png) | ![　PDF出力画面](/docs/img/app-view/print-invoice_1.1.png) |
| 請求書データの表示機能を実装しました。 | PDFでの請求書発行機能を実装しました。 |

| 登録するマスタの選択画面 |　マスタの登録画面 |
| ---- | ---- |
| ![請求書詳細画面](/docs/img/app-view/select-master_1.1.png) | ![　PDF出力画面](/docs/img/app-view/master-register-form_1.1.png) |
| 事業者情報と備考欄情報のマスタ登録機能を実装しました。 | マスタ情報の登録をすることで、請求書の作成時にデータを呼び出すことができます。 |

<br />

## 使用技術

| カテゴリー | 技術 |
| - | - |
| フロントエンド | HTML, CSS, JavaScript |
| バックエンド | Java 22.0.2, Spring(Spring Boot 3.2.6/Spring Framework 6.1.8/Spring MVC 6.1.8), MyBatis 3.5.14 |
| データベース | MySQL 8.0.35 |
| API | Google Maps API(Places API / Directions API / Maps API) |
| インフラストラクチャー | Amazon Web Services(VPC/RDS/EC2/Route 53/ACM/ALB) |
| コード管理 | Git 2.45.0, GitHub |
| 開発環境 | Eclipse 4.31.0 |

<br />

## システム構成図

![システム構成図](/docs/img/system-architecture/system-architecture_1.1.png)

<br />

## ER図

![ER図](/docs/img/entity-relationship-diagram/entity-relationship-diagram_1.6.png)

<br />

## 今後の展望

本プロダクトは4つのフェーズに分けて、段階的に開発を進めています。  
現在はフェーズ1として、請求書の作成・発行機能の開発をしています。  
将来的には書類作成業務から経理・会計業務までを一元管理できる、統合的なソリューションの実現を目指しています。  

- フェーズ1：新しい税制に対応した請求書を、Web上で作成・発行できるアプリケーションを開発する。
- フェーズ2：発注書・見積書・納品書を、Web上で作成・発行できる機能を追加する。
- フェーズ3：お金や取引に関するデータをWeb上で確認できる機能を追加する。
- フェーズ4：取引に関するデータを、会計ソフトに効率的に取り込める機能を追加する。

# chainstoreapp

## 【アプリの目的】
・チェーン店検索からメニュー決定までをワンストップで行えるアプリ  

・ここで言うチェーン店とは、主に牛丼屋(すき家等)とうどん屋(はなまるうどん等)  
・上記のチェーン店は他の食品を扱うチェーン店に比べ、メニューの組み合わせの自由度が高い故に考える時間を要するも、発券機に並んでいる人々の存在が気になって落ち着けず、結局満足のいくメニュー選択ができなかった経験が出発点。

・メニューの組み合わせの自由度が高いというのは、例えばマクドナルドと比べてみると、こちらはセットメニューで価格が最適化されているので、大体はセットメニューの一覧を見て、価格と食べたいものの均衡点を特定すれば事足りる。  
・しかし、今回扱うチェーン店はそうはいかない。まず、牛丼やうどんといったメインメニューの中で、豪華さに応じて価格が変動するのは、マクドナルドと一緒だ。しかしそれに加え、牛丼屋にはトッピング、うどん屋には天ぷらやおでんといったサイドメニューが充実している。すると、マクドナルドのようにメインメニューの一覧を見るだけでは、そのとき最も食べたい組み合わせを考えるには事足りず、メインメニュー＋サイドメニューの組み合わせも考えないといけない。

・例えば、うどん屋では大抵かけうどんが最安だが、それだけでは今ひとつ足りないと思ったとしよう。充実させるには、メインのうどんをきつねうどんにするなどのグレードアップを図るもよし、一方で、かけうどんに天ぷらやおでんを付けるというサイドメニューによるグレードアップを図るのもよい。  
・今回はかけうどんのグレードアップだけなので、注文の直前にその場で考えることも比較的容易だが、これが予算を拡大するとそうはいかない。うどん屋で予算800円ほどになると、メイン×サイドの組み合わせはかなりの数になるだろう。  
・しかし、うどん屋ないし牛丼屋等のチェーン店は、注文までの時間が非常に短く、組み合わせを考えている余裕がない。そこで、予算を入力すると、その予算内でメニューの組み合わせをランダム表示する機能を作成した。

・さらに、チェーン店に行こうとするとき、必要なのはメニュー決定だけでなく、店舗の位置である。そこで、現在地周辺の店舗位置を検索・ルート表示を行える機能も実装した。

## 【操作手順】
### 1. トップ画面
   ・現在地のマーカーが表示される  
   ・以後、常時現在地を監視し、変更があればマーカーが移動する
   
   ![スクリーンショット 2024-06-15 23 03 22](https://github.com/wannabehime/chainstoreapp/assets/106756903/724aa338-cf36-46a7-84ca-a014615adce4)

### 2. チェーン店検索

  #### 2.1. 検索条件入力
  
   ##### 2.1.1. ブランド名
   ・入力欄にホバーするとドロップダウンが出現、その中から選択。  
   ・ただ、現時点では直接入力もできてしまうが、後述のメニュー検索の都合上ドロップダウンからのみ選択できるようにしたい。
      
   ![スクリーンショット 2024-06-15 23 03 40](https://github.com/wannabehime/chainstoreapp/assets/106756903/af83f143-b233-4ea4-9ab7-cdb9ce920280)
      
   ![スクリーンショット 2024-06-15 23 03 54](https://github.com/wannabehime/chainstoreapp/assets/106756903/e72ee9a9-635f-4999-a525-82631d561ad5)

   ##### 2.1.2. 検索範囲の中心地
   ・2文字以上入力すると、駅名サジェストが出現、その中から選択。  
   ・サジェストは駅名DBから取得し、「(入力文字 + "駅")の駅名」→「入力文字から始まる駅名」→「入力文字が含まれる駅名」の順で表示。  
   ・駅名入力ではなく、「現在地から検索」ボタンにより、「現在地」という文字列入力も可能。文字列上だけでなく、内部処理でも現在地の経緯度を取得してある。
      
   ![スクリーンショット 2024-06-15 23 04 04](https://github.com/wannabehime/chainstoreapp/assets/106756903/8f9a39bf-e5c6-45bc-8c2f-7631e7b3cfb4)
   
   ![スクリーンショット 2024-06-15 23 04 15](https://github.com/wannabehime/chainstoreapp/assets/106756903/f61b3f2e-2bd9-4c74-9a6c-78a73c754a61)

   ##### 2.1.3. 中心地からの範囲
   ・入力欄をクリックするとドロップダウンが出現、その中から選択。  
   ・ただし、ユーザビリティ的に不要な気がしたので、後々範囲指定は無くして自動で300mとかにするつもり。  
      
   ![スクリーンショット 2024-06-15 23 04 22](https://github.com/wannabehime/chainstoreapp/assets/106756903/3edf84d4-a274-4446-886d-b620a0d40da8)
   
   　![スクリーンショット 2024-06-15 23 04 27](https://github.com/wannabehime/chainstoreapp/assets/106756903/2eb89d90-6e07-4b43-92f6-f971efcc5c00)
      
  #### 2.2. 店舗の位置マーカー・店舗までの徒歩時間表示
   ・「検索」ボタンを押下すると、条件に該当する全ての店舗の位置のマーカーと、現在地マーカーが収まるように、マップの表示範囲が調整される。  
   ・店舗マーカーには現在地からの徒歩時間も表示される。
   
   ・3で使う予算入力欄、4で使う「一覧に戻る」ボタンも表示される。後者はタイミング再考の余地あり。
      
   ![スクリーンショット 2024-06-15 23 04 34](https://github.com/wannabehime/chainstoreapp/assets/106756903/f576969e-a4bf-4da4-96a9-d9952ba4396c)

### 3. メニューのランダム表示

   #### 3.1. 予算入力
  ・入力欄をクリックするとドロップダウンが出現、その中から選択。
     
   ![スクリーンショット 2024-06-15 23 04 40](https://github.com/wannabehime/chainstoreapp/assets/106756903/f16ab013-9eb7-45e1-9648-6c9a031a59ec)

   #### 3.2. メニューのランダム表示
  ・予算を入力すると、検索したブランドのチェーン店のメニューDBから、予算以内、かつ最低メイン1品、かつランダムでメニューを取得して表示する。  
  ・3.3のシャッフルを使った後ユーザーがメニューを比較できるよう、2通り表示する。
     
   ![スクリーンショット 2024-06-15 23 04 46](https://github.com/wannabehime/chainstoreapp/assets/106756903/78773aec-a610-484d-8fe0-6f2a9ab20d05)
     
   #### 3.3. メニューシャッフル
  ・「シャッフル」ボタンを押すと、2通り表示されているメニューのうち、押したボタンが紐づいている方について、3.2のメニューランダム取得が再度行われる（スクショは下のボタンを押した)。
     
   ![スクリーンショット 2024-06-15 23 04 55](https://github.com/wannabehime/chainstoreapp/assets/106756903/678a9fbe-4abf-492a-944d-d357a9d252a5)

### 4. ルート検索

   #### 4.1. 現在地から店舗までのルート表示
  ・マーカーの吹き出しの「ルート」ボタンを押すと、現在地から店舗までのルートが表示され、ルートにフォーカスするようにマップの表示範囲が調整される。
     
   ![スクリーンショット 2024-06-15 23 05 11](https://github.com/wannabehime/chainstoreapp/assets/106756903/025a6e33-6b8b-424e-a8ed-9879ef7a0c79)

   #### 4.2. 店舗一覧に戻る
  ・ルートを表示させた状態で「一覧に戻る」ボタンを押すと、ルート表示が消え、再度全ての店舗マーカーが表示される。
     
   ![スクリーンショット 2024-06-15 23 06 36](https://github.com/wannabehime/chainstoreapp/assets/106756903/1dd30a4e-a228-4c6d-81c1-dfeee632e48e)
